<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Compute stopping boundaries, maximum sample size, and expected sample sizes for a group sequential cluster randomized trial. — gsDesignCRT • gsDesignCRT</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Compute stopping boundaries, maximum sample size, and expected sample sizes for a group sequential cluster randomized trial. — gsDesignCRT"><meta name="description" content="gsDesignCRT() is used to determine the maximum sample
 size needed for a specified parallel group sequential cluster randomized
 trial to detect a clinically meaningful effect size with some Type I error
 rate and power. Code adapted from gsDesign package."><meta property="og:description" content="gsDesignCRT() is used to determine the maximum sample
 size needed for a specified parallel group sequential cluster randomized
 trial to detect a clinically meaningful effect size with some Type I error
 rate and power. Code adapted from gsDesign package."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">gsDesignCRT</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Compute stopping boundaries, maximum sample size, and expected sample sizes for a group sequential cluster randomized trial.</h1>

      <div class="d-none name"><code>gsDesignCRT.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>gsDesignCRT()</code> is used to determine the maximum sample
 size needed for a specified parallel group sequential cluster randomized
 trial to detect a clinically meaningful effect size with some Type I error
 rate and power. Code adapted from gsDesign package.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">gsDesignCRT</span><span class="op">(</span></span>
<span>  k <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  outcome_type <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  test_type <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  test_sides <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  size_type <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  timing_type <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  recruit_type <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  delta <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  sigma_vec <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  p_vec <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.5</span><span class="op">)</span>,</span>
<span>  rho <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  alpha <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>  beta <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>  m <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  m_alloc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.5</span><span class="op">)</span>,</span>
<span>  n <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  n_cv <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>  info_timing <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  m_timing <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  n_timing <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  alpha_sf <span class="op">=</span> <span class="va">sfLDOF</span>,</span>
<span>  alpha_sfpar <span class="op">=</span> <span class="op">-</span><span class="fl">4</span>,</span>
<span>  beta_sf <span class="op">=</span> <span class="va">sfLDOF</span>,</span>
<span>  beta_sfpar <span class="op">=</span> <span class="op">-</span><span class="fl">4</span>,</span>
<span>  tol <span class="op">=</span> <span class="fl">1e-06</span>,</span>
<span>  r <span class="op">=</span> <span class="fl">18</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-k">k<a class="anchor" aria-label="anchor" href="#arg-k"></a></dt>
<dd><p>Number of analyses planned, including interim and final.</p></dd>


<dt id="arg-outcome-type">outcome_type<a class="anchor" aria-label="anchor" href="#arg-outcome-type"></a></dt>
<dd><p><code>1=</code>continuous difference of means
<br><code>2=</code>binary difference of proportions</p></dd>


<dt id="arg-test-type">test_type<a class="anchor" aria-label="anchor" href="#arg-test-type"></a></dt>
<dd><p><code>1=</code> early stopping for efficacy only
<br><code>2=</code> early stopping for binding futility only
<br><code>3=</code> early stopping for non-binding futility only
<br><code>4=</code> early stopping for either efficacy or binding futility
<br><code>5=</code> early stopping for either efficacy or non-binding futility</p></dd>


<dt id="arg-test-sides">test_sides<a class="anchor" aria-label="anchor" href="#arg-test-sides"></a></dt>
<dd><p><code>1=</code> one-sided test <br><code>2=</code> two-sided test</p></dd>


<dt id="arg-size-type">size_type<a class="anchor" aria-label="anchor" href="#arg-size-type"></a></dt>
<dd><p><code>1=</code>clusters per arm <br><code>2=</code>cluster size</p></dd>


<dt id="arg-timing-type">timing_type<a class="anchor" aria-label="anchor" href="#arg-timing-type"></a></dt>
<dd><p><code>1=</code> maximum and expected sample sizes based on
specified information fractions in <code>info_timing</code>; recruit according to
design specified in <code>recruit_type</code>
<br><code>2=</code> maximum sample size based on specified information fractions
in <code>info_timing</code> and expected sample sizes based on specified sample
size fractions in <code>m_timing</code> and <code>n_timing</code>
<br><code>3=</code> maximum and expected sample sizes based on specified
sample size fractions in <code>m_timing</code> and <code>n_timing</code>
@param recruit_type <code>1=</code>recruit clusters with fixed sizes
<br><code>2=</code>recruit individuals into fixed number of clusters
<br><code>3=</code>recruit at both cluster and individual levels</p></dd>


<dt id="arg-delta">delta<a class="anchor" aria-label="anchor" href="#arg-delta"></a></dt>
<dd><p>Effect size for theta under alternative hypothesis. Must be &gt; 0.</p></dd>


<dt id="arg-sigma-vec">sigma_vec<a class="anchor" aria-label="anchor" href="#arg-sigma-vec"></a></dt>
<dd><p>Standard deviations for control and treatment groups
(continuous case).</p></dd>


<dt id="arg-p-vec">p_vec<a class="anchor" aria-label="anchor" href="#arg-p-vec"></a></dt>
<dd><p>Probabilities of event for control and treatment groups
(binary case).</p></dd>


<dt id="arg-rho">rho<a class="anchor" aria-label="anchor" href="#arg-rho"></a></dt>
<dd><p>Intraclass correlation coefficient. Default value is 0.</p></dd>


<dt id="arg-alpha">alpha<a class="anchor" aria-label="anchor" href="#arg-alpha"></a></dt>
<dd><p>Type I error, default value is 0.05.</p></dd>


<dt id="arg-beta">beta<a class="anchor" aria-label="anchor" href="#arg-beta"></a></dt>
<dd><p>Type II error, default value is 0.1 (90% power).</p></dd>


<dt id="arg-m">m<a class="anchor" aria-label="anchor" href="#arg-m"></a></dt>
<dd><p>Number of clusters for finding maximum mean cluster size. If
<code>m</code> is a scalar, it is treated as the total number of clusters across
arms. If <code>m</code> is a vector of length 2, it is treated as the number of
clusters per arm.</p></dd>


<dt id="arg-m-alloc">m_alloc<a class="anchor" aria-label="anchor" href="#arg-m-alloc"></a></dt>
<dd><p>Allocation ratio of clusters per arm. Default is
<code>c(0.5, 0.5)</code>.</p></dd>


<dt id="arg-n">n<a class="anchor" aria-label="anchor" href="#arg-n"></a></dt>
<dd><p>Mean cluster size for finding maximum number of clusters. If
<code>n</code> is a scalar, it is treated as the average cluster size for both
arms. If <code>n</code> is a vector of length 2, it is treated as the average
cluster size per arm.</p></dd>


<dt id="arg-n-cv">n_cv<a class="anchor" aria-label="anchor" href="#arg-n-cv"></a></dt>
<dd><p>Coefficient of variation for cluster size. If <code>n_cv</code> is a
scalar, it is treated as the coefficient of variation for both arms. If
<code>n_cv</code> is a vector of length 2, it is treated as the coefficient of
variation per arm.</p></dd>


<dt id="arg-info-timing">info_timing<a class="anchor" aria-label="anchor" href="#arg-info-timing"></a></dt>
<dd><p>Sets timing of interim analyses based on information
fractions. Default of 1 produces analyses at equal-spaced increments.
Otherwise, this is a vector of length <code>k</code> or <code>k-1</code>. The values
should satisfy <code>0 &lt; info_timing[1] &lt; info_timing[2] &lt; ... &lt;
info_timing[k-1] &lt; info_timing[k]=1</code>.</p></dd>


<dt id="arg-m-timing">m_timing<a class="anchor" aria-label="anchor" href="#arg-m-timing"></a></dt>
<dd><p>Sets timing of interim analyses based on fractions of the
number of clusters.</p></dd>


<dt id="arg-n-timing">n_timing<a class="anchor" aria-label="anchor" href="#arg-n-timing"></a></dt>
<dd><p>Sets timing of interim analyses based on cluster size</p></dd>


<dt id="arg-alpha-sf">alpha_sf<a class="anchor" aria-label="anchor" href="#arg-alpha-sf"></a></dt>
<dd><p>A spending function or a character string indicating an
upper boundary type (that is, “WT” for Wang-Tsiatis bounds,
“OF” for O'Brien-Fleming bounds, and “Pocock” for Pocock
bounds). The default value is <code>sfLDOF</code> which is a Lan-DeMets
O'Brien-Fleming spending function. See details,
<code><a href="../articles/SpendingFunctionOverview.html">vignette("SpendingFunctionOverview")</a></code>, manual and examples.</p></dd>


<dt id="arg-alpha-sfpar">alpha_sfpar<a class="anchor" aria-label="anchor" href="#arg-alpha-sfpar"></a></dt>
<dd><p>Real value, default is \(-4\) which is an
O'Brien-Fleming-like conservative bound when used with a
Hwang-Shih-DeCani spending function. This is a real-vector for many spending
functions. The parameter <code>alpha_sfpar</code> specifies any parameters needed
for the spending function specified by <code>alpha_sf</code>; this will be ignored
for spending functions (<code>sfLDOF</code>, <code>sfLDPocock</code>) or bound types
(“OF”, “Pocock”) that do not require parameters.</p></dd>


<dt id="arg-beta-sf">beta_sf<a class="anchor" aria-label="anchor" href="#arg-beta-sf"></a></dt>
<dd><p>A spending function or a character string indicating an
lower boundary type (that is, “WT” for Wang-Tsiatis bounds,
“OF” for O'Brien-Fleming bounds, and “Pocock” for Pocock
bounds). The default value is <code>sfLDOF</code> which is a Lan-DeMets
O'Brien-Fleming spending function. See details,
<code><a href="../articles/SpendingFunctionOverview.html">vignette("SpendingFunctionOverview")</a></code>, manual and examples.</p></dd>


<dt id="arg-beta-sfpar">beta_sfpar<a class="anchor" aria-label="anchor" href="#arg-beta-sfpar"></a></dt>
<dd><p>Real value, default is \(-4\) which is an
O'Brien-Fleming-like conservative bound when used with a
Hwang-Shih-DeCani spending function. This is a real-vector for many spending
functions. The parameter <code>beta_sfpar</code> specifies any parameters needed
for the spending function specified by <code>beta_sf</code>; this will be ignored
for spending functions (<code>sfLDOF</code>, <code>sfLDPocock</code>) or bound types
(“OF”, “Pocock”) that do not require parameters.</p></dd>


<dt id="arg-tol">tol<a class="anchor" aria-label="anchor" href="#arg-tol"></a></dt>
<dd><p>Tolerance for error (default is 0.000001). Normally this will not
be changed by the user.  This does not translate directly to number of
digits of accuracy, so use extra decimal places.</p></dd>


<dt id="arg-r">r<a class="anchor" aria-label="anchor" href="#arg-r"></a></dt>
<dd><p>Integer value controlling grid for numerical integration as in
Jennison and Turnbull (2000); default is 18, range is 1 to 80.  Larger
values provide larger number of grid points and greater accuracy.  Normally
<code>r</code> will not be changed by the user.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Object containing the following elements:</p>
<dl><dt>k</dt>
<dd><p>As
 input.</p></dd>
 <dt>outcome_type</dt>
<dd><p>As input.</p></dd>
 <dt>test_type</dt>
<dd><p>As input.</p></dd>

 <dt>test_sides</dt>
<dd><p>As input.</p></dd>
 <dt>size_type</dt>
<dd><p>As input.</p></dd>

 <dt>recruit_type</dt>
<dd><p>As input.</p></dd>
 <dt>timing_type</dt>
<dd><p>As input.</p></dd>
 <dt>delta</dt>
<dd><p>As
 input.</p></dd>
 <dt>sigma_vec</dt>
<dd><p>As input.</p></dd>
 <dt>p_vec</dt>
<dd><p>As input.</p></dd>
 <dt>rho</dt>
<dd><p>As
 input.</p></dd>
 <dt>alpha</dt>
<dd><p>As input.</p></dd>
 <dt>beta</dt>
<dd><p>As input.</p></dd>
 <dt>info_timing</dt>
<dd><p>As
 input.</p></dd>
 <dt>m_timing</dt>
<dd><p>As input.</p></dd>
 <dt>n_timing</dt>
<dd><p>As input.</p></dd>

 <dt>info_schedule</dt>
<dd><p>Fraction of maximum information at each planned interim
 analysis based on <code>timing_type</code> and <code>info_timing</code>.</p></dd>

 <dt>m_schedule</dt>
<dd><p>Fraction of maximum number of clusters per arm at each
 planned interim analysis based on <code>timing_type</code> and <code>m_timing</code>.</p></dd>

 <dt>n_schedule</dt>
<dd><p>Fraction of maximum cluster size at each planned interim
 analysis based on <code>timing_type</code> and <code>n_timing</code>.</p></dd>
 <dt>i</dt>
<dd><p>Fisher
 information at each planned interim analysis based on <code>timing_type</code>.</p></dd>

 <dt>max_i</dt>
<dd><p>Maximum information corresponding to design specifications.</p></dd>

 <dt>m</dt>
<dd><p>Number of clusters per arm at each planned interim analysis.</p></dd>

 <dt>max_m</dt>
<dd><p>Maximum number of clusters per arm.</p></dd>
 <dt>e_m</dt>
<dd><p>A vector of
 length 2 with expected number of clusters per arm under the null and
 alternative hypotheses. For simplicity, the expected sizes with non-binding
 futility boundaries are calculated assuming the boundaries are binding
 futility.</p></dd>
 <dt>n</dt>
<dd><p>Mean cluster size at each planned interim analysis.</p></dd>

 <dt>max_n</dt>
<dd><p>Maximum mean cluster size.</p></dd>
 <dt>e_n</dt>
<dd><p>A vector of length 2
 with expected mean cluster sizes under the null and alternative hypotheses.
 For simplicity, the expected sizes with non-binding futility boundaries are
 calculated assuming the futility boundaries are binding.</p></dd>

 <dt>max_total</dt>
<dd><p>Maximum number of individuals in the trial.</p></dd>

 <dt>e_total</dt>
<dd><p>A vector of length 2 with expected total number of
 individuals in the trial under the null and alternative hypotheses. For
 simplicity, the expected sizes with non-binding futility boundaries are
 calculated assuming the futility boundaries are binding.</p></dd>
 <dt>sufficient</dt>
<dd><p>Value denoting whether calculated sample size will be sufficient to achieve
 specified Type I error rate and power given the trial specifications.</p></dd>

 <dt>lower_bound</dt>
<dd><p>Calculated lower futility boundaries under analysis
 schedule specified by <code>timing_type</code></p></dd>
 <dt>upper_bound</dt>
<dd><p>Calculated
 upper efficacy boundaries under analysis schedule specified by
 <code>timing_types</code>.</p></dd>
 <dt>tol</dt>
<dd><p>As input.</p></dd>
 <dt>r</dt>
<dd><p>As input.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Jennison C and Turnbull BW (2000), <em>Group Sequential
 Methods with Applications to Clinical Trials</em>. Boca Raton: Chapman and Hall.</p>
<p>Anderson K (2025). gsDesign: Group Sequential Design.
 R package version 3.8.0, https://keaven.github.io/gsDesign/.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Lee Ding <a href="mailto:lee_ding@g.harvard.edu">lee_ding@g.harvard.edu</a></p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Lee Ding.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

